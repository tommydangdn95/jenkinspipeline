server {
  listen 80 default_server;

  location / {
    if ($request_method = OPTIONS ) {
      add_header 'Access-Control-Allow-Origin' '*';
      add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version,X-API-VERSION,chuc-danh-id';
      add_header 'Content-Type' 'application/json; charset=utf-8';
      add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
      add_header 'Access-Control-Max-Age' 86400;
      return 200 '{}';
    }
  }
}

server {
	listen       80;
	server_name  office.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.233:9091/;
		proxy_set_header Host http://$host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
    listen 80;
    server_name doc-server.eoffice.greenglobal.vn;
    location / {
        proxy_pass http://192.168.1.233:9090/;
        proxy_set_header Host http://$host:$server_port;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#       auth_basic "Restricted";
#       auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
    }
}
server {
	listen       80;
	server_name  job.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.233:3012/;
		proxy_set_header Host http://$host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		
		auth_basic           "Restricted";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

server {
	listen       80;
	server_name  nuget.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.124:80/;
		proxy_set_header Host http://$host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  keycloak.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.124:8084/;
		proxy_set_header Host http://$host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  pgadmin.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.124:56789/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		auth_basic           "Restricted";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

#-----------------------------------------------
#                FRONT-END
#-----------------------------------------------

#----------Dev----------
server {
	listen       80;
	server_name  dev-qn.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.219;
		proxy_set_header Host $host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}
#----------Test----------
server {
	listen       80;
	server_name  test1-qn.eoffice.greenglobal.vn test2-qn.eoffice.greenglobal.vn test3-qn.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.219:82;
		proxy_set_header Host $host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}
#----------Staging----------
server {
	listen       80;
	server_name  staging-qn.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.219:82;
		proxy_set_header Host $host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  file.eoffice.greenglobal.vn dev-file-qn.eoffice.greenglobal.vn test1-file-qn.eoffice.greenglobal.vn;
	ignore_invalid_headers off;
	client_max_body_size 0;	
	proxy_buffering off;

	location / {
       if ($request_method = OPTIONS ) {
			add_header 'Access-Control-Allow-Origin' '*';
			add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version,X-API-VERSION,chuc-danh-id';
			add_header 'Content-Type' 'application/json; charset=utf-8';
			add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
			add_header 'Access-Control-Max-Age' 86400;
			return 200 '{}';
        }
		
        proxy_pass   http://192.168.1.124:5005/;
        proxy_set_header Host $host:$server_port;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location ~/files-dev/ {	
		root  /media/windows/Tools/nginx-1.13.1/conf/http-included;
		try_files $uri $host:server_port/$2;
	}

	location ~ ^/api/file/(.*)/info {
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version,X-API-VERSION,chuc-danh-id';
		add_header 'Content-Type' 'application/json; charset=utf-8';
		add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
		add_header 'Access-Control-Max-Age' 96400;

		if ($request_method = OPTIONS ) {
			return 200 '{}';
		}
		
		proxy_pass http://192.168.1.124:5005/api/file/$1/info;
		proxy_set_header Host $host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /api {
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version,X-API-VERSION,chuc-danh-id';
		add_header 'Content-Type' 'application/json; charset=utf-8';
		add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
		add_header 'Access-Control-Max-Age' 86400;

		if ($request_method = OPTIONS ) {
			return 200 '{}';
		}

		proxy_pass   http://192.168.1.124:5005;
		proxy_set_header Host $host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  api-design.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.124:8086/;
		proxy_set_header Host $host:84;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  api-index.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.223:5001/;
		proxy_set_header Host $host:84;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

#---------------------------------------------------------------
# SERVER JENKINS BACKUP
#
#---------------------------------------------------------------

server {
	listen       80;
	server_name  ci-backup.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.195:8080/;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}


#---------------------------------------------------------------
# Web Analytics Matomo
#
#---------------------------------------------------------------

server {
        listen       80;
        server_name  matomo.eoffice.greenglobal.vn;

        location / {
                proxy_pass   http://192.168.1.193/;
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header X-Forwarded-Proto $scheme;
        }
}




#---------------------------------------------------------------
# SERVER READMINE
#
#---------------------------------------------------------------


server {
	listen       80;
	server_name  redmine.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.233:3000/;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

#-------------
# Weave SCOPE
#-------------

server {
	listen       80;
	server_name  weave-scope.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.219:4040/;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}


#--------------------------------------------------------------
# ERROR TRACKING
#--------------------------------------------------------------
server {
	listen       80;
	server_name  tracker-qn.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.124:8088/;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}
server {
	listen       80;
	server_name  monitor.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.96/;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}


#---------------------------------------------------------------
# KIBANA
#
#---------------------------------------------------------------

server {
	listen       80;
	server_name  kibana.eoffice.greenglobal.vn;

	location / {
		proxy_pass   http://192.168.1.219:5601/;
		proxy_set_header Host $host:84;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}


server {
        listen       80;

        server_name  mvn.eoffice.greenglobal.vn;
	
	location / {
                proxy_pass   http://192.168.1.219:8083/;
		proxy_set_header Host $host:$server_port;
		proxy_set_header X-Real-IP $remote_addr;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection "upgrade";
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;

        }
}



######
server {
	listen       80;
	server_name  hubs.eoffice.greenglobal.vn;
	client_max_body_size 0;

	location /v2/ {
		# Do not allow connections from docker 1.5 and earlier
		# docker pre-1.6.0 did not properly set the user agent on ping, catch "Go *" user agents
		if ($http_user_agent ~ "^(docker\/1\.(3|4|5(?!\.[0-9]-dev))|Go ).*$" ) {
			return 404;
		}

		proxy_pass                          http://192.168.1.219:5000;
		proxy_set_header  Host              $http_host;   # required for docker client's sake
		proxy_set_header  X-Real-IP         $remote_addr; # pass on real client's IP
		proxy_set_header  X-Forwarded-For   $proxy_add_x_forwarded_for;
		proxy_set_header  X-Forwarded-Proto $scheme;
		proxy_read_timeout                  900;
     }
}

server {
	listen       80;
	server_name  es.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.219:9200/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  kafka.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass  http://192.168.1.219:9092/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  zookeeper.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass  http://192.168.1.219:2181/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

server {
	listen       80;
	server_name  kafka-ui.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.219:9550/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

server {
	listen       80;
	server_name  rest.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.124:4000/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}
server {
	listen       80;
	server_name  vanbanden-dev.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.124:4001/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

server {
	listen       80;
	server_name  graphql.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.124:8080/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		#auth_basic           "Restricted";
		#auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

server {
	listen       80;
	server_name  graphql-test1.eoffice.greenglobal.vn;

	location / {
		if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.124:8091/;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
	 
		auth_basic           "Restricted";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

#---------------------------------------------------------------
# API Gateway
#---------------------------------------------------------------
server {
	listen       80;
	server_name  api-dashboard.eoffice.greenglobal.vn;

	location /{
	if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
			return 403;
		}
		proxy_pass   http://192.168.1.124:3000;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}
server {
	listen       80;
	server_name  api-gateway.eoffice.greenglobal.vn;

	location /{
    if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.124:8081;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}

server {
	listen       80;
	server_name  nodered.eoffice.greenglobal.vn;

	location /{
    if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.233:1880;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection "upgrade";
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
   
		auth_basic           "Restricted Content";
		auth_basic_user_file "/media/windows/Tools/nginx-1.13.1/conf/http-included/.httpaccess";
	}
}
server {
	listen       80;
	server_name  streamsets.eoffice.greenglobal.vn;

	location /{
    if ($http_user_agent ~ (libwww|Wget|LWP|damnBot|BBBike|java|spider|crawl) ) {
		   return 403;
	    }
		proxy_pass   http://192.168.1.233:18630;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

#---------------------------------------------------------------
# API config
#
#---------------------------------------------------------------

### API DEV
server {
	listen       80;
	server_name  dev-api-qn.eoffice.greenglobal.vn;

	location /he-thong {
		proxy_pass   http://192.168.1.219:8080/he-thong;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
 
	location /he-thong/api {
		proxy_pass   http://192.168.1.219:8080/he-thong/api;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	
		add_header 'content-type' 'application/json' always;   
	}
		
	location /danh-muc {
		proxy_pass   http://192.168.1.219:8081/danh-muc;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
	
	location /danh-muc/api {
		proxy_pass   http://192.168.1.219:8081/danh-muc/api;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	
		add_header 'content-type' 'application/json' always;
	}

	location /danh-muc/api/ngon-ngu {
		if ($request_method = OPTIONS ) {
			add_header 'Access-Control-Allow-Origin' '*';
			add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version,X-API-VERSION,chuc-danh-id';
			add_header 'Content-Type' 'application/json; charset=utf-8';
			add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
			add_header 'Access-Control-Max-Age' 86400;
			return 200 '{}';
		}

		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		add_header 'content-type' 'application/json;charset=utf-8' always;
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
		return 200 '{"content": [{"ma": "VI","ten": "Tiếng Việt"},{"ma": "EN","ten": "Tiếng Anh"}]}';
	}
	
	location /van-ban-den {
		proxy_pass http://192.168.1.219:8085/van-ban-den;
		
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /ho-so-cong-viec {
		proxy_pass   http://192.168.1.219:8086/ho-so-cong-viec;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
	location /notify {
		proxy_pass   http://192.168.1.219:8084/notify;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /van-ban-di {
		proxy_pass   http://192.168.1.219:8089/van-ban-di;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /lien-thong {
		proxy_pass   http://192.168.1.219:8096/lien-thong;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /phieu-de-xuat {
		proxy_pass   http://192.168.1.219:8097/phieu-de-xuat;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /phieu-yeu-cau {
		proxy_pass   http://192.168.1.219:8098/phieu-yeu-cau;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
}

## API TEST 1
server {
	listen       80;
	server_name  test1-api-qn.eoffice.greenglobal.vn;
	
	location / {
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version';
		add_header 'Content-Type' 'application/json; charset=utf-8';
		add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
		add_header 'Access-Control-Max-Age' 86400;

		if ($request_method = OPTIONS ) {
			return 200;
		}
	}

	location /he-thong {
		proxy_pass   http://192.168.1.219:8090/he-thong;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
	
	location /danh-muc {
		proxy_pass   http://192.168.1.219:8090/danh-muc;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /van-ban-den {
		proxy_pass http://192.168.1.219:8092/van-ban-den;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /van-ban-di {
		proxy_pass http://192.168.1.219:8095/van-ban-di;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}

	location /ho-so-cong-viec {
		proxy_pass http://192.168.1.219:8093/ho-so-cong-viec;
		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	}
 
	location /danh-muc/api/ngon-ngu {
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Headers' 'authorization,cache-control,chucdanhid,expires,pragma,content-type,X-Requested-With,api-version,X-API-VERSION,chuc-danh-id';
		add_header 'Content-Type' 'application/json; charset=utf-8';
		add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
		add_header 'Access-Control-Max-Age' 86400;

		if ($request_method = OPTIONS ) {
			return 200 '{}';
		}

		proxy_set_header Host $host;
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		add_header 'Access-Control-Allow-Origin' '*';
		add_header 'Access-Control-Allow-Methods' 'POST, GET, OPTIONS, PUT, DELETE, PATCH, PURGE';
		add_header 'content-type' 'application/json' always;
		return 200 '{"content": [{"ma": "VI","ten": "Tiếng Việt"},{"ma": "EN","ten": "Tiếng Anh"}]}';
       }
}
